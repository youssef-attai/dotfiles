#!/usr/bin/env bash

# This script uses rofi to select a program to configure.
# e.g. choosing "dunst" will open dunst's config file in a new kitty window.

declare -A programs

programs=(
    ["bspwm"]="$HOME/.config/bspwm/bspwmrc"
    ["dunst"]="$HOME/.config/dunst/dunstrc"
    ["kitty"]="$HOME/.config/kitty/"
    ["nvim"]="$HOME/.config/nvim/"
    ["picom"]="$HOME/.config/picom/picom.conf"
    ["rofi"]="$HOME/.config/rofi/config.rasi"
    ["sxhkd"]="$HOME/.config/sxhkd/sxhkdrc"
    ["xinit"]="$HOME/.xinitrc"
    ["bin"]="$HOME/bin/"
    ["zsh"]="$HOME/.zsh/"
)

# Get the list of programs.
program_list=$(printf '%s\n' "${!programs[@]}" | sort)

# Get the program to configure.
program=$(echo "$program_list" | rofi -dmenu -p "Config")

# If the user didn't select anything, exit.
if [[ -z "$program" ]]; then
    exit 1
fi

# Get the config file for the program.
config_file="${programs[$program]}"

# Open the config file in a new kitty window.
kitty -e nvim "$config_file"
