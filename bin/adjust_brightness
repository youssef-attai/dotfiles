#!/bin/bash

notification_icon="audio-volume-high"

function send_notification() {
  brightness_g=$(brightnessctl g)
  brightness_m=$(brightnessctl m)
  brightness=$(($brightness_g * 100 / $brightness_m))

  icon="$HOME/Pictures/svg/sun.svg"
	dunstify -a "Adjust brightness" -r 9994 -h int:value:"$brightness" -i notification_icon "Brightness: ${brightness}%" -t 2000 -i $icon -u low
}

case $1 in
up)
  brightnessctl s +1%
	send_notification $1
	;;
down)
  brightness_g=$(brightnessctl g)
  brightness_m=$(brightnessctl m)
  brightness=$(($brightness_g * 100 / $brightness_m))
  if [ $brightness -gt 1 ]; then
    brightnessctl s 1%-
  fi
  send_notification $1
	;;
max)
  brightnessctl s 100%
  send_notification $1
  ;;
min)
  brightnessctl s 1%
  send_notification $1
  ;;
esac
