#!/usr/bin/env bash

# This script is used to play sounds when the battery is put on charge or taken off charge.
# Dependencies: acpi, paplay

charging_sound="$HOME/.local/share/sounds/battery-charging.mp3"
discharging_sound="$HOME/.local/share/sounds/battery-discharging.mp3"

previous_state=$(acpi -b | awk '{print $3}' | cut -d ',' -f1)
while true; do
    current_state=$(acpi -b | awk '{print $3}' | cut -d ',' -f1)
    if [[ $current_state != $previous_state ]]; then
        if [[ $current_state == "Charging" ]]; then
            paplay $charging_sound
        elif [[ $current_state == "Discharging" ]]; then
            paplay $discharging_sound
        fi
    fi
    previous_state=$current_state
    sleep 1
done
